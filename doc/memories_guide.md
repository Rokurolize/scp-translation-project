# memories_guide.md

このドキュメントは、当プロジェクトで使用している `memories.md` を
どのように作り、更新し続けるかのガイドラインです。

## 1. 目的

- 「前にどんな話し合いがあったのか」「なぜその決定に至ったのか」を
  後から振り返れるようにするためのファイルが `memories.md` です。
- 複数メンバー or 将来の自分がコードを触るときに、過去の意思決定を
  把握して混乱しないことを目指します。

## 2. memories.md の基本構成

1. **プロジェクト概要 / ゴール**
   - 何を目指しているのか、現状の問題点・期待効果などをまとめる。
2. **課題・背景**
   - 具体的に何が困っていたか、何を改善したいか。
3. **意思決定の経緯**
   - どんな選択肢があって、なぜ最終的にその方針を選んだのか。
   - 不採用となったアイデアがあれば簡単に理由も。
4. **実装概要 / 現在のスクリプト・設定**
   - どんなフォルダに何があるか、セットアップや使い方。
5. **今後の TODO**
   - まだ着手してない課題や拡張の計画。
6. **注意点・運用ルール**
   - 実行時のコツや落とし穴、Lint ルールなど。
7. **雑記**
   - 細かい Tips や過去ログに書いておきたいがまとまったセクションがない話題。

## 3. 運用ルール

1. **大きな方針転換 / 設計変更があったら更新**
   - 例えば「DB の構造を変える」「取得方法を差分更新から別の手法に」など。
2. **memories.md を更新するとき**
   - 「課題・背景」「意思決定の経緯」など、変更箇所に対応するセクションを見直して書き足す。
   - 古い内容が矛盾しないように軽く整理。
3. **細かい会話ログ全部は書かない**
   - 基本は「どういう問題があって、どう決定して、どう実装したか」だけを簡潔にまとめる。
   - 全ログを貼ると読みにくいので、必要なら別ファイルへ。memories.md はあくまで“概要”が目的。
4. **Pull Request 単位で追記**
   - 大きめの PR で設計に影響がある場合、メンテナが memories.md をちょい更新する。
   - 変更の差分で「この修正はこういう背景がある」と説明できる。

## 4. ファイルの置き場所

- 原則 `doc/memories.md` をリポジトリルートではなく `doc/` フォルダに置く想定。
- このガイド `doc/memories_guide.md` も同じフォルダに入れておく。

## 5. 書き方のコツ

- **簡潔に**: 詳しすぎるログだと読むのが大変。主観的な会話の流れは割愛し、意思決定と結果をメインに。
- **更新日/担当者の記録**: ときどき「### updated at 2023-07-xx by [名前 or ユーザー]」など挟むと履歴が分かりやすい。
- **セクションを増やしすぎない**: 5~8 個程度でサッと見渡せるようにまとめる。
